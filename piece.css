.cell {
  overflow: visible;
}

/* ===== 将棋駒SVG・文字共存 安定版 ===== */

.piece {
  position: relative;
  width: 90%;
  height: 90%;

  display: flex;
  align-items: center;
  justify-content: center;

  font-size: 18px;
  font-weight: bold;
  font-family: "Hiragino Mincho ProN",
               "Yu Mincho",
               "Noto Serif JP",
               serif;
  color: #000;

  /* ← 文字を前面に固定 */
  z-index: 2;

  text-shadow: 1px 1px 0 #fff;
  pointer-events: none;
}

/* SVG将棋駒（背景） */
.piece::before {
  content: "";
  position: absolute;
  inset: 0;

  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;

  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 220 260'>\
<path d='M110 10 L175 55 L205 230 Q110 255 15 230 L45 55 Z' \
fill='%23f5d76e' stroke='%23000' stroke-width='6' stroke-linejoin='round'/>\
</svg>");

  /* ← SVGは文字の後ろ */
  z-index: 1;
}

/* 向き（既存仕様そのまま） */
.p0 { transform: rotate(180deg); }
.p1 { transform: rotate(270deg); }
.p2 { transform: rotate(0deg); }
.p3 { transform: rotate(90deg); }

.cell {
  overflow: visible;
}
